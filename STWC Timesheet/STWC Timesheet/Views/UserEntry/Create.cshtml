@model STWC_Timesheet.Models.InputModels
@{
    ViewBag.Title = "Working Hours";
}

<h2>Working Hours</h2>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <div class="halfDiv" style="width: 40%;">
        <div class="calendar" style="margin-top: 10px;"></div>
        <div style="margin: 10px 0 10px 0;">
            <span class="normal"></span> Normal
            <span class="occured"></span> Occured N/C
            <span class="altered"></span> Altered
        </div>
    </div>
    <div class="halfDiv"  style="width: 60%;">
        <fieldset>
            <legend>Crew Information</legend>
            <div class="editor-label">
                @Html.LabelFor(model => model.UserEntryModel.user_id)
            </div>
            <div class="editor-field">
                @Html.DropDownListFor(model => model.UserEntryModel.user_id, (SelectList)ViewBag.Users_list, "Please Select")
                @Html.ValidationMessageFor(model => model.UserEntryModel.user_id)
            </div>
                
            <div class="editor-label">
                @Html.LabelFor(model => model.UserEntryModel.comments)
            </div>
            <div class="editor-field">
                @Html.TextAreaFor(model => model.UserEntryModel.comments)
                @Html.ValidationMessageFor(model => model.UserEntryModel.comments)
            </div>
        </fieldset>
        <fieldset style="text-align: right;">
            <input type="submit" value="Save" />
        </fieldset>
    </div>
    <div style="float: left;">
        <ol id="numbersol">
            <li>0</li>
            <li></li>
            <li>1</li>
            <li></li>
            <li>2</li>
            <li></li>
            <li>3</li>
            <li></li>
            <li>4</li>
            <li></li>
            <li>5</li>
            <li></li>
            <li>6</li>
            <li></li>
            <li>7</li>
            <li></li>
            <li>8</li>
            <li></li>
            <li>9</li>
            <li></li>
            <li>10</li>
            <li></li>
            <li>11</li>
            <li></li>
            <li>12</li>
            <li></li>
            <li>13</li>
            <li></li>
            <li>14</li>
            <li></li>
            <li>15</li>
            <li></li>
            <li>16</li>
            <li></li>
            <li>17</li>
            <li></li>
            <li>18</li>
            <li></li>
            <li>19</li>
            <li></li>
            <li>20</li>
            <li></li>
            <li>21</li>
            <li></li>
            <li>22</li>
            <li></li>
            <li>23</li>
            <li></li>
        </ol>
        <ol id="selectable">
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
          <li class="ui-widget-content"></li>
        </ol>
        <span>Worked Hours:</span> <span id="select-result">none</span>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script type="text/javascript">
        $(document).ready(function () {
            $('.calendar').datepicker();
            $("#selectable").selectable({
                selecting: function (event, ui) {
                    if (event.detail == 0) {
                        _selectRange = true;
                        return true;
                    }
                    if ($(ui.selecting).hasClass('ui-selected')) {
                        _deselectQueue.push(ui.selecting);
                    }
                },
                unselecting: function (event, ui) {
                    $(ui.unselecting).addClass('ui-selected');
                },
                stop: function () {
                    if (!_selectRange) {
                        $.each(_deselectQueue, function (ix, de) {
                            $(de)
                        .removeClass('ui-selecting')
                        .removeClass('ui-selected');
                        });
                    }
                    _selectRange = false;
                    _deselectQueue = [];
                }
            });

            $("#selectable").selectable({
                stop: function () {
                    var result = $("#select-result").empty();
                    var count = 0;
                    $(".ui-selected", this).each(function () {
                        var index = $("#selectable li").index(this);
                        result.append(" #" + index);
                        count = count + 1;
                    });
                    result.append(" = " + count / 2);
                }
            });
        });
    </script>
}
